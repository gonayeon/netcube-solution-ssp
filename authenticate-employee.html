<!DOCTYPE html>
<html
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default-layout.html}"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title th:text="#{page.title.authenticate.employee}">[NPass Self Serviced Portal] Authenticate Employee Page</title>

    <th:block layout:fragment="script">
        <script th:inline="javascript">
            const pageName = "AUTHENTICATE_EMPLOYEE";
            const maximumAuthenticateFailCount = [[${maximumAuthenticateFailCount}]];
            const authenticateFailLockTimeSecond = [[${authenticateFailLockTimeSecond}]];
            const authenticateFailLockTimeMinute = authenticateFailLockTimeSecond / 60;
            const sectionId = (userAccessInfo.deviceType === deviceTypes.PC) ? '#pcSection' : '#mobileSection';
        </script>

        <script type="text/javascript" th:src="@{/js/authenticate/authenticate.js}"></script>
    </th:block>
</head>
<body>
    <main layout:fragment="content">
        <!-- pc contents -->
        <section class="hidden lg:block w-[95%] max-w-[1160px] mx-auto h-full" id="pcSection">
            <div class="flex flex-col items-center h-full">
                <div class="mt-[10.5vh] text-white text-center">
                    <img src="/images/auth/npass-logo.png" class="w-[345px] mb-[5vh]" alt="NPass">
                    <h2 class="text-3xl font-extrabold mb-[2.8vh]" th:utext="#{pc.authenticate.employee.title}">임직원 로그인</h2>
                    <p class="text-sm" th:utext="#{pc.authenticate.employee.message}">
                        <span id="message-username">아이디</span>와 <span id="message-password">비밀번호</span>를 통해 로그인해주세요.
                    </p>
                </div>

                <form class="w-80" id="authenticateForm">
                    <input type="hidden" name="userType" value="EMPLOYEE">
                    <div class="flex flex-col gap-5 my-[30px]">
                        <input type="text" name="username" autocomplete="off" autofocus="autofocus" th:placeholder="#{pc.authenticate.employee.input.username.placeholder}" class="w-full h-10 rounded px-3 shadow-[2px_2px_4px_0_rgba(0,0,0,0.25)] outline-none">
                        <input type="password" name="password" autocomplete="off" th:placeholder="#{pc.authenticate.employee.input.password.placeholder}" class="w-full h-10 rounded px-3 shadow-[2px_2px_4px_0_rgba(0,0,0,0.25)] outline-none">
                    </div>
                    <button type="button" class="bg-black text-white rounded w-full h-10 text-[14px] font-semibold" onclick="authenticate();" th:text="#{pc.authenticate.employee.button}">로그인</button>
                </form>

                <p id="error-msg" class="h-4 mt-[3vh] mb-[4vh] text-sm text-bright-red-800"></p>

                <div class="flex items-center gap-1">
                    <img src="/images/auth/i-mark.svg" class="w-4 h-auto" alt="i마크">
                    <p class="text-sm font-medium" th:text="#{pc.authenticate.employee.guideMessage}">방문자 등록 및 무선 네트워크 설정을 위해서는 로그인이 필요합니다.</p>
                </div>
            </div>
        </section>

        <!-- mobile contents -->
        <section class="flex lg:hidden fixed left-1/2 z-10 -translate-x-1/2 flex-col justify-center w-4/5 h-[80%] text-center text-white" id="mobileSection">
            <div>
                <h1 class="mb-[3.7vh]">
                    <img src="/images/auth/login-logo.svg" class="w-[60%] h-auto mx-auto md:w-[51%]" alt="NPass">
                </h1>

                <h2 class="text-[5vw] mb-[2vh] font-bold md:text-[3.7vw]" th:text="#{mobile.authenticate.employee.title}">임직원 로그인</h2>

                <p class="text-[4vw] mb-[4.5vh] sm:text-xl md:text-2xl" th:utext="#{mobile.authenticate.employee.message}">
                    <span class="font-bold" id="message-username">아이디</span>와 <span class="font-bold" id="message-password">비밀번호</span>를 통해 로그인 해주세요.
                </p>

                <p id="error-msg" class="text-apple-blossom-600 text-[4vw] mb-[4.5vh] md:text-[2.8vw]"></p>
            </div>

            <div class="w-[95%] sm:w-[355px] md:w-[525px] mx-auto">
                <form id="authenticateForm">
                    <input type="hidden" name="userType" value="EMPLOYEE">
                    <div class="*:h-[40px] *:mb-3 *:sm:h-[45px] *:sm:mb-[17px] *:md:h-[80px] *:md:mb-[30px] *:md:rounded-lg">
                        <input autocomplete="off" name="username" type="text" th:placeholder="#{mobile.authenticate.employee.input.username.placeholder}" autofocus class="w-full rounded-[5px] px-[10px] text-black md:px-5 md:text-2xl">
                        <input autocomplete="off" name="password" type="password" th:placeholder="#{mobile.authenticate.employee.input.password.placeholder}" class="w-full rounded-[5px] px-[10px] text-black md:px-5 md:text-2xl">
                        <button type="button" class="bg-black text-white w-full rounded-[5px] font-bold md:text-3xl" onclick="authenticate();" th:text="#{mobile.authenticate.employee.button}">로그인</button>
                    </div>
                </form>
    
                <p class="mt-[2.5vh] bg-[rgba(255,255,255,0.3)] px-[19px] py-[10px] rounded-[5px] md:px-8 md:py-6 md:rounded-lg text-[3.8vw] sm:text-[16px] md:text-xl">
                    <img src="/images/auth/info.svg" class="inline-block mr-1 pb-[3px] h-4 w-auto align-middle md:h-5" alt="information">
                    <span th:text="#{mobile.authenticate.employee.guideMessage}">방문자 등록 및 무선 네트워크 설정을 위해서는 로그인이 필요합니다.</span>
                </p>
            </div>
        </section>

        <!-- pc background -->
        <div class="hidden lg:block fixed top-0 left-0 -z-10 w-full h-full">
            <img src="/images/auth/background-circle-2.svg" alt="background circle" class="absolute top-[-28%] left-[3%]">
            <img src="/images/auth/background-circle-3.svg" alt="background circle" class="absolute bottom-[-11%] right-[7%]">
            <img src="/images/auth/background-circle-4.svg" alt="background circle" class="absolute top-[-5%] right-[11%]">
            <img src="/images/auth/background-circle-1.svg" alt="background circle" class="absolute top-[49%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-auto h-3/4">
        </div>

        <!-- mobile background -->
        <div class="block lg:hidden fixed top-0 left-0 w-full h-full bg-cornflower-blue-400">
            <img src="/images/auth/m-bg-circle-stripe-white-90.svg" alt="background circle" class="absolute top-[13%] left-[8%] w-[30%]">
            <img src="/images/auth/m-bg-circle-stripe-white.svg" alt="background circle" class="absolute top-[7%] left-[2%] w-[20%]">
            <img src="/images/auth/m-bg-circle-stripe-grey.svg" alt="background circle" class="absolute top-[-5%] right-[-6%] w-[39%]">
            <img src="/images/auth/m-bg-circle-stripe-white-oblique.svg" alt="background circle" class="absolute bottom-[-7%] right-[-30%] w-[83%]">
            <img src="/images/auth/m-bg-circle-grey.svg" alt="background circle" class="absolute top-[30%] right-[15%] w-[25%]">
            <img src="/images/auth/m-bg-circle-grey.svg" alt="background circle" class="absolute bottom-[-10%] left-[-13%] w-[42%]">
        </div>
    </main>
</body>
</html>